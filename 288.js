"use strict";(self.webpackChunkdmf_user=self.webpackChunkdmf_user||[]).push([[288],{6156:(t,n,e)=>{function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,{Z:()=>o})},6288:(t,n,e)=>{e.r(n);var o={};e.r(o),e.d(o,{loadTodosEpic:()=>pt,saveTodosEpic:()=>vt});var r={};e.r(r),e.d(r,{default:()=>bt});var u={};e.r(u),e.d(u,{loadSnapshot:()=>mt,saveSnapshot:()=>gt});var i=e(2950),c=e.n(i),a=e(2181),l=e.n(a),s=e(8147),f=e(1936),d=e.n(f),p=e(7784),v=e.n(p),y=e(1730),b=e.n(y),h=e(7149),m=e.n(h),g=function(t){return t.todos},O=e(8370),S=(0,O.createAction)("ADD_TODO",(function(t){return{id:Math.ceil(999999*Math.random()).toString(),title:t}}))(),A=(0,O.createAction)("REMOVE_TODO")(),Z=(0,O.createAsyncAction)("LOAD_TODOS_REQUEST","LOAD_TODOS_SUCCESS","LOAD_TODOS_FAILURE")(),T=(0,O.createAsyncAction)("SAVE_TODOS_REQUEST","SAVE_TODOS_SUCCESS","SAVE_TODOS_FAILURE")(),w=e(9476);const E=function(t){var n=t.title,e=t.onRemoveClick;return(0,w.tZ)("div",null,n,(0,w.tZ)("div",{onClick:e},"X"))};var _={removeTodo:A};const R=(0,s.connect)((function(t){return{isLoading:t.todos.isLoadingTodos,todos:g(t.todos)}}),_)((function(t){var n=t.isLoading,e=t.todos,o=void 0===e?[]:e,r=t.removeTodo;return n?(0,w.tZ)("p",null,"Loading..."):(0,w.tZ)("ul",null,o.map((function(t){return(0,w.tZ)("li",{key:t.id},(0,w.tZ)(E,{title:t.title,onRemoveClick:function(){return r(t.id)}}))})))}));function C(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function D(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,n,e){return n&&D(t.prototype,n),e&&D(t,e),t}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,n){return j=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},j(t,n)}function P(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&j(t,n)}function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function I(t,n){if(n&&("object"===U(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var q=e(6156);var x={addItem:S},B=function(t){P(r,t);var n,e,o=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=M(n);if(e){var r=M(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return I(this,t)});function r(){var t;C(this,r);for(var n=arguments.length,e=new Array(n),u=0;u<n;u++)e[u]=arguments[u];return t=o.call.apply(o,[this].concat(e)),(0,q.Z)(L(t),"state",{title:""}),(0,q.Z)(L(t),"handleTitleChange",(function(n){t.setState({title:n.currentTarget.value})})),(0,q.Z)(L(t),"handleAddClick",(function(){t.props.addItem(t.state.title),t.setState({title:""})})),t}return k(r,[{key:"render",value:function(){var t=this.state.title;return(0,w.tZ)("form",{onSubmit:function(t){t.preventDefault()}},(0,w.tZ)("input",{style:{width:450},type:"text",placeholder:"Enter new item",value:t,onChange:this.handleTitleChange})," ",(0,w.tZ)("button",{type:"submit",onClick:this.handleAddClick,disabled:!t},"Add"))}}]),r}(i.Component);const Q=(0,s.connect)(null,x)(B);var F={loadTodos:Z.request,saveTodos:T.request},V=function(t){P(r,t);var n,e,o=(n=r,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=M(n);if(e){var r=M(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return I(this,t)});function r(){return C(this,r),o.apply(this,arguments)}return k(r,[{key:"render",value:function(){var t=this.props,n=t.loadTodos,e=t.saveTodos,o=this.props.isLoading;return(0,w.tZ)("section",null,(0,w.tZ)("button",{type:"button",onClick:function(){return n(void 0,void 0)},disabled:o},"Load snapshot")," ",(0,w.tZ)("button",{type:"button",onClick:function(){return e(void 0,void 0)},disabled:o},"Save snapshot"))}}]),r}(i.Component);const X=(0,s.connect)((function(t){return{isLoading:t.todos.isLoadingTodos}}),F)(V),Y=function(){return(0,w.tZ)("section",null,(0,w.tZ)(X,null),(0,w.tZ)("br",null),(0,w.tZ)(Q,null),(0,w.tZ)("hr",null),(0,w.tZ)(R,null))};var G=function(){return(0,w.tZ)(c().Fragment,null,(0,w.tZ)(d(),{header:(0,w.tZ)(v(),null),footer:(0,w.tZ)(b(),null),className:"u-demo"},(0,w.tZ)("div",null,(0,w.tZ)(m(),null,"Login Page"),(0,w.tZ)(Y,null))))},N=e(4603),$=e(3462),z=N.compose,H=e(1810);function J(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function K(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return J(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?J(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=(0,O.createReducer)(!1).handleAction([Z.request],(function(t,n){return!0})).handleAction([Z.success,Z.failure],(function(t,n){return!1})),tt=(0,O.createReducer)([{id:"0",title:"You can add new todos using the form or load saved snapshot..."}]).handleAction(Z.success,(function(t,n){return n.payload})).handleAction(S,(function(t,n){return[].concat(K(t),[n.payload])})).handleAction(A,(function(t,n){return t.filter((function(t){return t.id!==n.payload}))}));const nt=(0,N.combineReducers)({isLoadingTodos:W,todos:tt}),et=(0,N.combineReducers)({router:H.routerReducer,todos:nt});var ot=e(9635),rt=e(7617);function ut(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=(0,rt.yG)(t);return(0,ot.D)(t,e)}var it=e(4975),ct=e(7878),at=e(6798),lt=e(2566);function st(t,n){return(0,at.e)((function(e,o){var r=null,u=0,i=!1,c=function(){return i&&!r&&o.complete()};e.subscribe(new lt.Q(o,(function(e){null==r||r.unsubscribe();var i=0,a=u++;(0,ct.Xf)(t(e,a)).subscribe(r=new lt.Q(o,(function(t){return o.next(n?n(e,t,a,i++):t)}),(function(){r=null,c()})))}),(function(){i=!0,c()})))}))}var ft=e(9127);function dt(t){return(0,at.e)((function(n,e){var o,r=null,u=!1;r=n.subscribe(new lt.Q(e,void 0,void 0,(function(i){o=(0,ct.Xf)(t(i,dt(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):u=!0}))),u&&(r.unsubscribe(),r=null,o.subscribe(e))}))}var pt=function(t,n,e){var o=e.api;return t.pipe((0,it.h)((0,O.isActionOf)(Z.request)),st((function(){return(0,ot.D)(o.todos.loadSnapshot()).pipe((0,ft.U)(Z.success),dt((function(t){return ut(Z.failure(t))})))})))},vt=function(t,n,e){var o=e.api;return t.pipe((0,it.h)((0,O.isActionOf)(T.request)),st((function(){return console.log(n.value),(0,ot.D)(o.todos.saveSnapshot(g(n.value.todos))).pipe((0,ft.U)(T.success),dt((function(t){return ut(T.failure(t))})))})))};const yt=$.combineEpics.apply(void 0,K(Object.values(o))),bt={log:console.log};var ht=[{id:"0",title:"Yo, your snapshot has been loaded successfully!"}];function mt(){return new Promise((function(t,n){setTimeout((function(){t(ht)}),500)}))}function gt(t){return new Promise((function(n,e){setTimeout((function(){ht=t,n(void 0)}),500)}))}const Ot={logger:r,api:{todos:u}};var St=(0,$.createEpicMiddleware)({dependencies:Ot}),At=[St],Zt=z(N.applyMiddleware.apply(void 0,At)),Tt=(0,N.createStore)(et,{},Zt);St.run(yt);const wt=Tt;console.log("X1",wt),l().render((0,w.tZ)((function(){return(0,w.tZ)(c().Fragment,null,(0,w.tZ)(s.Provider,{store:wt},(0,w.tZ)(G,null)))}),null),document.getElementById("root"))}}]);