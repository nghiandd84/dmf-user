"use strict";(self.webpackChunkdmf_user=self.webpackChunkdmf_user||[]).push([[970],{676:(n,o,r)=>{function e(n,o){(null==o||o>n.length)&&(o=n.length);for(var r=0,e=new Array(o);r<o;r++)e[r]=n[r];return e}r.d(o,{Z:()=>e})},3614:(n,o,r)=>{r.d(o,{Z:()=>t});var e=r(676);function t(n){if(Array.isArray(n))return(0,e.Z)(n)}},6410:(n,o,r)=>{function e(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}r.d(o,{Z:()=>e})},2303:(n,o,r)=>{function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(o,{Z:()=>e})},8927:(n,o,r)=>{r.d(o,{Z:()=>s});var e=r(3614),t=r(6410),u=r(2961),c=r(2303);function s(n){return(0,e.Z)(n)||(0,t.Z)(n)||(0,u.Z)(n)||(0,c.Z)()}},2961:(n,o,r)=>{r.d(o,{Z:()=>t});var e=r(676);function t(n,o){if(n){if("string"==typeof n)return(0,e.Z)(n,o);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,e.Z)(n,o):void 0}}},1756:(n,o,r)=>{r.r(o),r.d(o,{addTodo:()=>t,removeTodo:()=>u,loadTodosAsync:()=>c,saveTodosAsync:()=>s});var e=r(5737),t=(0,e.createAction)("ADD_TODO",(function(n){return{id:Math.ceil(999999*Math.random()).toString(),title:n}}))(),u=(0,e.createAction)("REMOVE_TODO")(),c=(0,e.createAsyncAction)("LOAD_TODOS_REQUEST","LOAD_TODOS_SUCCESS","LOAD_TODOS_FAILURE")(),s=(0,e.createAsyncAction)("SAVE_TODOS_REQUEST","SAVE_TODOS_SUCCESS","SAVE_TODOS_FAILURE")()},9288:(n,o,r)=>{r.r(o),r.d(o,{userLoadTodosEpic:()=>l,userSaveTodosEpic:()=>f});var e=r(326),t=r(4975),u=r(4978),c=r(9127),s=r(9878),a=r(5737),i=r(1756),d=r(7407),l=function(n,o,r){var d=r.user;return n.pipe((0,t.h)((0,a.isActionOf)(i.loadTodosAsync.request)),(0,u.w)((function(){return(0,e.from)(d.api.todos.loadSnapshot()).pipe((0,c.U)(i.loadTodosAsync.success),(0,s.K)((function(n){return(0,e.of)(i.loadTodosAsync.failure(n))})))})))},f=function(n,o,r){var l=r.user;return n.pipe((0,t.h)((0,a.isActionOf)(i.saveTodosAsync.request)),(0,u.w)((function(){return console.log(o.value,l),l.logger.default.log(o),(0,e.from)(l.api.todos.saveSnapshot((0,d.L)(o.value.user.todo))).pipe((0,c.U)(i.saveTodosAsync.success),(0,s.K)((function(n){return(0,e.of)(i.saveTodosAsync.failure(n))})))})))}},6503:(n,o,r)=>{r.d(o,{ZP:()=>i});var e=r(8927),t=r(8188),u=r(5737),c=r(1756),s=(0,u.createReducer)(!1).handleAction([c.loadTodosAsync.request],(function(n,o){return!0})).handleAction([c.loadTodosAsync.success,c.loadTodosAsync.failure],(function(n,o){return!1})),a=(0,u.createReducer)([{id:"0",title:"You can add new todos using the form or load saved snapshot..."}]).handleAction(c.loadTodosAsync.success,(function(n,o){return o.payload})).handleAction(c.addTodo,(function(n,o){return[].concat((0,e.Z)(n),[o.payload])})).handleAction(c.removeTodo,(function(n,o){return n.filter((function(n){return n.id!==o.payload}))}));const i=(0,t.combineReducers)({isLoadingTodos:s,todos:a})},7407:(n,o,r)=>{r.d(o,{L:()=>e});var e=function(n){return n.todos}},7478:(n,o,r)=>{r.r(o),r.d(o,{userAction:()=>t});var e=r(1756),t={router:r(1599).routerActions,user:{todo:e}}},6106:(n,o,r)=>{r.r(o),r.d(o,{userEpic:()=>t});var e=r(9288),t=Object.values(e)},9970:(n,o,r)=>{r.r(o),r.d(o,{actions:()=>e,epic:()=>t,reducer:()=>u});var e=r(7478),t=r(6106),u=r(9231)},9231:(n,o,r)=>{r.r(o),r.d(o,{userReducer:()=>u});var e=r(8188),t=r(6503),u=(0,e.combineReducers)({todo:t.ZP})},9878:(n,o,r)=>{r.d(o,{K:()=>c});var e=r(7878),t=r(2566),u=r(6798);function c(n){return(0,u.e)((function(o,r){var u,s=null,a=!1;s=o.subscribe(new t.Q(r,void 0,void 0,(function(t){u=(0,e.Xf)(n(t,c(n)(o))),s?(s.unsubscribe(),s=null,u.subscribe(r)):a=!0}))),a&&(s.unsubscribe(),s=null,u.subscribe(r))}))}},4978:(n,o,r)=>{r.d(o,{w:()=>c});var e=r(7878),t=r(6798),u=r(2566);function c(n,o){return(0,t.e)((function(r,t){var c=null,s=0,a=!1,i=function(){return a&&!c&&t.complete()};r.subscribe(new u.Q(t,(function(r){null==c||c.unsubscribe();var a=0,d=s++;(0,e.Xf)(n(r,d)).subscribe(c=new u.Q(t,(function(n){return t.next(o?o(r,n,d,a++):n)}),(function(){c=null,i()})))}),(function(){a=!0,i()})))}))}}}]);